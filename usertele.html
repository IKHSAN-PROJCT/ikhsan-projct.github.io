<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jam Digital Robot</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #282c34;
            margin: 0;
            font-family: 'Courier New', Courier, monospace;
            color: #61dafb;
        }

        .clock {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #61dafb;
            font-size: 4rem;
            background: #20232a;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #61dafb;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            width: 300px;
            height: 100px;
            position: relative;
        }

        .clock:before {
            content: '';
            display: block;
            width: 15px;
            height: 15px;
            background: #61dafb;
            border-radius: 50%;
            margin: 0 auto 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            position: absolute;
            top: -20px;
            left: calc(50% - 7.5px);
        }

        .container {
            text-align: center;
        }

        .status {
            font-size: 1.2rem;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="clock" id="clock">00:00:00</div>
        <div class="status" id="status"></div>
    </div>

    <script>
        const TELEGRAM_TOKEN = '7371764330:AAEgSgROcGBEbsgspY4IDNU_WqPL_3IczGs'; // Ganti dengan token bot Telegram Anda
        const CHANNEL_ID = '@ujdndi'; // Ganti dengan username channel atau grup Telegram Anda

        function updateClock() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds}`;
        }

        async function getWaifuImages() {
            const waifuImages = [];
            for (let i = 0; i < 4; i++) {
                const response = await fetch('https://api.waifu.pics/sfw/waifu');
                const data = await response.json();
                waifuImages.push(data.url);
            }
            return waifuImages;
        }

        async function sendWaifuImages() {
            const waifuImages = await getWaifuImages();
            waifuImages.forEach(url => {
                sendMessageToTelegram(CHANNEL_ID, `Berikut adalah gambar waifu untuk Anda:\n${url}`);
            });
        }

        async function sendDjMusic() {
            const musicUrls = [
                'https://github.com/IKHSAN-PROJCT/ikhsan-projct.github.io/blob/main/ironman.mp4',
                'https://github.com/IKHSAN-PROJCT/ikhsan-projct.github.io/blob/main/music.mp3',
                'https://github.com/IKHSAN-PROJCT/ikhsan-projct.github.io/blob/main/your-music-file.mp3'
            ];
            const randomIndex = Math.floor(Math.random() * musicUrls.length);
            const djMusicUrl = musicUrls[randomIndex];
            sendMessageToTelegram(CHANNEL_ID, `Berikut adalah musik DJ untuk Anda:\n${djMusicUrl}`);
        }

        async function getWeatherUpdate() {
            const city = 'Jakarta'; // Ganti dengan kota yang diinginkan
            const apiKey = 'daa5f78a98d2cdd3955fee0ac2de3694'; // Ganti dengan kunci API cuaca Anda
            const response = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
            const data = await response.json();

            const temperature = data.main.temp;
            const weather = data.weather[0].description;
            const message = `Cuaca saat ini di ${city}: ${temperature}Â°C dan ${weather}`;

            sendMessageToTelegram(CHANNEL_ID, message);
        }

        async function getDailyMotivation() {
            const response = await fetch('https://type.fit/api/quotes');
            const quotes = await response.json();
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            const message = `"${randomQuote.text}" - ${randomQuote.author || 'Unknown'}`;

            sendMessageToTelegram(CHANNEL_ID, `Motivasi Hari Ini:\n${message}`);
        }

        function sendGreeting() {
            const now = new Date();
            const hours = now.getHours();

            let greeting = 'Selamat hari!';

            if (hours < 12) {
                greeting = 'Selamat pagi!';
            } else if (hours < 18) {
                greeting = 'Selamat sore!';
            } else {
                greeting = 'Selamat malam!';
            }

            sendMessageToTelegram(CHANNEL_ID, `${greeting} Semoga hari Anda menyenangkan!`);
        }

        function sendSpecialAnnouncement() {
            const announcement = 'Jangan lewatkan acara spesial kami minggu ini!';
            sendMessageToTelegram(CHANNEL_ID, `Pengumuman Spesial:\n${announcement}`);
        }

        function sendMessageToTelegram(chatId, text) {
            const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;
            const payload = {
                chat_id: chatId,
                text: text
            };

            fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            })
            .then(response => response.json())
            .then(data => {
                console.log('SendMessage Response:', data);
                if (!data.ok) {
                    console.error('Gagal mengirim pesan: ' + data.description);
                }
            })
            .catch(error => {
                console.error('Error: ' + error.message);
            });
        }

        async function sendScheduledMessages() {
            await sendWaifuImages();
            await sendDjMusic();
            sendGreeting();
            getWeatherUpdate();
            getDailyMotivation();
            sendSpecialAnnouncement();
        }

        async function getLatestNews() {
            const apiKey = '6afda593a8134da2a9c4d6039c6dc0ee'; // Ganti dengan kunci API berita Anda
            const response = await fetch(`https://newsapi.org/v2/top-headlines?country=us&apiKey=${apiKey}`);
            const data = await response.json();
            const articles = data.articles.slice(0, 3); // Ambil 3 berita terbaru

            let message = 'Berita Terbaru:\n';
            articles.forEach(article => {
                message += `â€¢ ${article.title}\n`;
            });

            sendMessageToTelegram(CHANNEL_ID, message);
        }

        function pollUpdates() {
            let offset = 0;

            setInterval(async () => {
                const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/getUpdates?offset=${offset}`;
                const response = await fetch(url);
                const data = await response.json();

                if (data.result) {
                    data.result.forEach(update => {
                        offset = update.update_id + 1;

                        if (update.message) {
                            if (update.message.new_chat_members) {
                                update.message.new_chat_members.forEach(member => {
                                    const userId = member.id;
                                    const fullname = member.first_name + (member.last_name ? ` ${member.last_name}` : '');
                                    const username = member.username ? `@${member.username}` : '';
                                    const welcomeMessage = `ðŸŽ‰ Selamat datang di grup, ${fullname} ${username}! ðŸŽ‰`;
                                    sendMessageToTelegram(CHANNEL_ID, welcomeMessage);
                                });
                            }
                        }
                    });
                }
            }, 3000); // Periksa pembaruan setiap 3 detik
        }

        setInterval(sendScheduledMessages, 3600 * 1000); // Kirim pesan otomatis setiap 1 jam
        setInterval(updateClock, 1000);
        updateClock();
        pollUpdates();
    </script>
</body>
</html>